<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrollytelling Demo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui; background: #1a1a1a; }
        .scroll-container { height: 400vh; }
        .container { display: flex; height: 100vh; position: fixed; top: 0; width: 100%; }
        .text-column { width: 25%; background: white; position: relative; }
        .story-section {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            padding: 2rem;
            opacity: 0;
            visibility: hidden;
            transition: 0.5s;
        }
        .story-section.active { opacity: 1; visibility: visible; }
        .image-column { width: 75%; overflow: hidden; }
        .image-container img { width: 100%; height: 100vh; object-fit: cover; }
    </style>
</head>
<body>
    <div class="scroll-container">
        <div class="container">
            <div class="text-column">
                <section class="story-section" id="section1">
                    <h2>Introduction</h2>
                    <p>As we begin our journey, watch as the illustration emerges.</p>
                </section>
                <section class="story-section" id="section2">
                    <h2>A Closer Look</h2>
                    <p>Now we zoom in to examine the details.</p>
                </section>
                <section class="story-section" id="section3">
                    <h2>Shifting Perspective</h2>
                    <p>Our view moves to reveal new connections.</p>
                </section>
                <section class="story-section" id="section4">
                    <h2>The Full Picture</h2>
                    <p>Finally, we see everything in context.</p>
                </section>
            </div>
            <div class="image-column">
                <div class="image-container">
                    <img src="https://source.unsplash.com/featured/1200x800" alt="Story illustration">
                </div>
            </div>
        </div>
    </div>
    <script>
        gsap.registerPlugin(ScrollTrigger);
        
        // Hide image initially
        gsap.set('.image-container img', { opacity: 0 });
        
        // Set up section visibility
        document.querySelectorAll('.story-section').forEach((section, i) => {
            ScrollTrigger.create({
                trigger: '.scroll-container',
                start: `${i * 25}% center`,
                end: `${(i + 1) * 25}% center`,
                onEnter: () => section.classList.add('active'),
                onLeave: () => section.classList.remove('active'),
                onEnterBack: () => section.classList.add('active'),
                onLeaveBack: () => section.classList.remove('active'),
            });
        });
        
        // Image animations
        gsap.to('.image-container img', {
            scrollTrigger: {
                trigger: '.scroll-container',
                start: '0% center',
                end: '25% center',
                scrub: true
            },
            opacity: 1
        });
        
        gsap.to('.image-container img', {
            scrollTrigger: {
                trigger: '.scroll-container',
                start: '25% center',
                end: '50% center',
                scrub: true
            },
            scale: 2,
            x: -200,
            y: -100
        });
        
        gsap.to('.image-container img', {
            scrollTrigger: {
                trigger: '.scroll-container',
                start: '50% center',
                end: '75% center',
                scrub: true
            },
            x: 200,
            y: 100
        });
        
        gsap.to('.image-container img', {
            scrollTrigger: {
                trigger: '.scroll-container',
                start: '75% center',
                end: '100% center',
                scrub: true
            },
            scale: 1,
            x: 0,
            y: 0
        });
    </script>
</body>
</html>